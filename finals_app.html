<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Finał turnieju Goats 2</title>
  <style>
    /* ======================= */
    /*    OGÓLNE STYLINY       */
    /* ======================= */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: url('Goats2.png') no-repeat center center fixed;
      background-size: cover;
    }
    .container {
      max-width: 1200px;
      margin: 30px auto;
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    h1 {
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 20px;
    }
    button {
      display: block;
      margin: 0 auto 20px;
      padding: 8px 16px;
      font-size: 1rem;
      background-color: #2c3e50;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background-color: #1a242f;
    }

    /* ======================= */
    /*  UKŁAD DWÓCH TABEL OBOK  */
    /* ======================= */
    .tables-row {
      display: flex;
      justify-content: space-between;
      gap: 20px;
      flex-wrap: wrap;
    }
    .table-wrapper {
      width: 48%;
      background-color: #fafafa;
      border: 1px solid #ccc;
      border-radius: 6px;
      overflow: hidden;
    }
    .court-label {
      background-color: #e5e5e5;
      text-align: center;
      font-weight: 600;
      padding: 10px 0;
      font-size: 1.1rem;
      text-transform: uppercase;
    }

    /* ======================= */
    /*   STYL SAMEJ TABELI    */
    /* ======================= */
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 6px 8px;
      text-align: center;
      font-size: 0.95rem;
    }
    /* Nagłówki sekcji (np. „PÓŁFINAŁ KOBIET”) */
    .section-header th {
      background-color: #e5e5e5;
      font-weight: 700;
      text-transform: uppercase;
      font-size: 1rem;
      padding: 8px 0;
    }
    /* Wiersze meczowe - kolory wg płci/etapu */
    .pink  { background-color: #fde2e2; }
    .blue  { background-color: #dce9f9; }
    .gray  { background-color: #e5e5e5; }

    /* ======================= */
    /*   TABELA „Finały”       */
    /* ======================= */
    .final-wrapper {
      margin-top: 30px;
      background-color: #fafafa;
      border: 1px solid #ccc;
      border-radius: 6px;
      overflow: hidden;
    }
    .final-label {
      text-align: center;
      font-weight: 600;
      background-color: #e5e5e5;
      padding: 10px 0;
      font-size: 1.1rem;
      text-transform: uppercase;
    }

    /* Małe upiększenia dla węższych ekranów */
    @media (max-width: 800px) {
      .table-wrapper {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <button onclick="location.reload()">Odśwież dane</button>
    <h1>Finał turnieju Goats 2</h1>

    <!-- Dwie tabele obok siebie: „Boisko A” i „Boisko B” -->
    <div class="tables-row">
      <!-- ================= TABELA BOISKO A ================= -->
      <div class="table-wrapper">
        <div class="court-label">Boisko A</div>
        <table>
          <tbody id="courtA-body">
            <!-- PÓŁFINAŁ KOBIET -->
            <tr class="section-header">
              <th colspan="5">PÓŁFINAŁ KOBIET</th>
            </tr>
            <tr class="pink">
              <td>12:30 – 13:20</td>
              <td id="A_teamA_0"></td> <!-- B42 -->
              <td>VS</td>
              <td id="A_teamB_0"></td> <!-- D42 -->
              <td id="A_result_0">:</td> <!-- E42 -->
            </tr>

            <!-- PÓŁFINAŁ MĘŻCZYZN -->
            <tr class="section-header">
              <th colspan="5">PÓŁFINAŁ MĘŻCZYZN</th>
            </tr>
            <tr class="blue">
              <td>13:20 – 14:10</td>
              <td id="A_teamA_1"></td> <!-- B44 -->
              <td>VS</td>
              <td id="A_teamB_1"></td> <!-- D44 -->
              <td id="A_result_1">:</td> <!-- E44 -->
            </tr>

            <!-- O 7 MIEJSCE -->
            <tr class="section-header">
              <th colspan="5">O 7 MIEJSCE</th>
            </tr>
            <tr class="pink">
              <td>14:10 – 15:00</td>
              <td id="A_teamA_2"></td> <!-- B46 -->
              <td>VS</td>
              <td id="A_teamB_2"></td> <!-- D46 -->
              <td id="A_result_2">:</td> <!-- E46 -->
            </tr>

            <!-- O 5 MIEJSCE -->
            <tr class="section-header">
              <th colspan="5">O 5 MIEJSCE</th>
            </tr>
            <tr class="blue">
              <td>15:00 – 15:50</td>
              <td id="A_teamA_3"></td> <!-- B48 -->
              <td>VS</td>
              <td id="A_teamB_3"></td> <!-- D48 -->
              <td id="A_result_3">:</td> <!-- E48 -->
            </tr>

            <!-- O 3 MIEJSCE -->
            <tr class="section-header">
              <th colspan="5">O 3 MIEJSCE</th>
            </tr>
            <tr class="pink">
              <td>15:50 – 16:40</td>
              <td id="A_teamA_4"></td> <!-- B50 -->
              <td>VS</td>
              <td id="A_teamB_4"></td> <!-- D50 -->
              <td id="A_result_4">:</td> <!-- E50 -->
            </tr>

            <!-- PRZERWA TECHNICZNA -->
            <tr class="section-header">
              <th colspan="5">PRZERWA TECHNICZNA</th>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- ================= TABELA BOISKO B ================= -->
      <div class="table-wrapper">
        <div class="court-label">Boisko B</div>
        <table>
          <tbody id="courtB-body">
            <!-- PÓŁFINAŁ KOBIET -->
            <tr class="section-header">
              <th colspan="5">PÓŁFINAŁ KOBIET</th>
            </tr>
            <tr class="pink">
              <td>12:30 – 13:20</td>
              <td id="B_teamA_0"></td> <!-- H42 -->
              <td>VS</td>
              <td id="B_teamB_0"></td> <!-- J42 -->
              <td id="B_result_0">:</td> <!-- K42 -->
            </tr>

            <!-- PÓŁFINAŁ MĘŻCZYZN -->
            <tr class="section-header">
              <th colspan="5">PÓŁFINAŁ MĘŻCZYZN</th>
            </tr>
            <tr class="blue">
              <td>13:20 – 14:10</td>
              <td id="B_teamA_1"></td> <!-- H44 -->
              <td>VS</td>
              <td id="B_teamB_1"></td> <!-- J44 -->
              <td id="B_result_1">:</td> <!-- K44 -->
            </tr>

            <!-- O 5 MIEJSCE -->
            <tr class="section-header">
              <th colspan="5">O 5 MIEJSCE</th>
            </tr>
            <tr class="pink">
              <td>14:10 – 15:00</td>
              <td id="B_teamA_2"></td> <!-- H46 -->
              <td>VS</td>
              <td id="B_teamB_2"></td> <!-- J46 -->
              <td id="B_result_2">:</td> <!-- K46 -->
            </tr>

            <!-- O 3 MIEJSCE -->
            <tr class="section-header">
              <th colspan="5">O 3 MIEJSCE</th>
            </tr>
            <tr class="blue">
              <td>15:00 – 15:50</td>
              <td id="B_teamA_3"></td> <!-- H48 -->
              <td>VS</td>
              <td id="B_teamB_3"></td> <!-- J48 -->
              <td id="B_result_3">:</td> <!-- K48 -->
            </tr>

            <!-- PRZERWA TECHNICZNA -->
            <tr class="section-header">
              <th colspan="5">PRZERWA TECHNICZNA</th>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- ================= TABELA „Finały” ================= -->
    <div class="final-wrapper">
      <div class="final-label">Finały</div>
      <table>
        <tbody id="final-body">
          <!-- FINAŁ KOBIET -->
          <tr class="section-header">
            <th colspan="5">FINAŁ KOBIET</th>
          </tr>
          <tr class="pink">
            <td>17:00 – 17:50</td>
            <td id="F_teamA_0"></td> <!-- D55 -->
            <td>VS</td>
            <td id="F_teamB_0"></td> <!-- H55 -->
            <td id="F_result_0"></td> <!-- J55 & K55 -->
          </tr>

          <!-- FINAŁ MĘŻCZYZN -->
          <tr class="section-header">
            <th colspan="5">FINAŁ MĘŻCZYZN</th>
          </tr>
          <tr class="blue">
            <td>17:50 – 18:40</td>
            <td id="F_teamA_1"></td> <!-- D57 -->
            <td>VS</td>
            <td id="F_teamB_1"></td> <!-- H57 -->
            <td id="F_result_1"></td> <!-- J57 & K57 -->
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ======================= -->
  <!--   POBIERANIE Z ARKUSZA  -->
  <!-- ======================= -->
  <script src="https://unpkg.com/papaparse@5.3.2/papaparse.min.js"></script>
  <script>
    // Adres Twojego arkusza Google (CSV)
    const CSV_URL =
      'https://docs.google.com/spreadsheets/d/e/2PACX-1vRHw8kX-ehVxqRrBxKQRAH9EySHdQUfPwWEae-llcCwEp-ba7-Oh82Llo-8rHCszQFJiKC7SZt8KaVg'
      + '/pub?gid=1242680440&single=true&output=csv';

    // Po otwarciu strony od razu ładujemy dane:
    fetchData();

    async function fetchData() {
      try {
        const res    = await fetch(CSV_URL);
        const text   = await res.text();
        const parsed = Papa.parse(text, { skipEmptyLines: true }).data;

        // parsed[0] = wiersz 1 arkusza, parsed[1] = wiersz 2, ...,
        // więc parsed[41] = wiersz 42, parsed[43] = wiersz 44, itd.

        // Wczytujemy drużyny i wyniki dokładnie z podanych komórek:
        // Boisko A:
        fillCell('A_teamA_0', parsed, 41, 1);  // B42
        fillCell('A_teamB_0', parsed, 41, 3);  // D42
        fillCell('A_result_0', parsed, 41, 4); // E42

        fillCell('A_teamA_1', parsed, 43, 1);  // B44
        fillCell('A_teamB_1', parsed, 43, 3);  // D44
        fillCell('A_result_1', parsed, 43, 4); // E44

        fillCell('A_teamA_2', parsed, 45, 1);  // B46
        fillCell('A_teamB_2', parsed, 45, 3);  // D46
        fillCell('A_result_2', parsed, 45, 4); // E46

        fillCell('A_teamA_3', parsed, 47, 1);  // B48
        fillCell('A_teamB_3', parsed, 47, 3);  // D48
        fillCell('A_result_3', parsed, 47, 4); // E48

        fillCell('A_teamA_4', parsed, 49, 1);  // B50
        fillCell('A_teamB_4', parsed, 49, 3);  // D50
        fillCell('A_result_4', parsed, 49, 4); // E50

        // Boisko B:
        fillCell('B_teamA_0', parsed, 41, 7);  // H42 (indeks 7)
        fillCell('B_teamB_0', parsed, 41, 9);  // J42 (indeks 9)
        fillCell('B_result_0', parsed, 41, 10); // K42 (indeks 10)

        fillCell('B_teamA_1', parsed, 43, 7);  // H44
        fillCell('B_teamB_1', parsed, 43, 9);  // J44
        fillCell('B_result_1', parsed, 43, 10); // K44

        fillCell('B_teamA_2', parsed, 45, 7);  // H46
        fillCell('B_teamB_2', parsed, 45, 9);  // J46
        fillCell('B_result_2', parsed, 45, 10); // K46

        fillCell('B_teamA_3', parsed, 47, 7);  // H48
        fillCell('B_teamB_3', parsed, 47, 9);  // J48
        fillCell('B_result_3', parsed, 47, 10); // K48

        // Finały:
        // drużyny Kobiet:
        fillCell('F_teamA_0', parsed, 54, 3);  // D55 (wiersz 55 → indeks 54, kolumna D → indeks 3)
        fillCell('F_teamB_0', parsed, 54, 7);  // H55 (indeks 7)
        // wynik Kobiet: sumujemy J55 (kol. 9) i K55 (kol. 10) w formie "X:Y"
        fillResultPair('F_result_0', parsed, 54, 9, 54, 10);

        // drużyny Mężczyzn:
        fillCell('F_teamA_1', parsed, 56, 3);  // D57 (wiersz 57 → indeks 56)
        fillCell('F_teamB_1', parsed, 56, 7);  // H57 (indeks 7)
        // wynik Mężczyzn: J57 (kol. 9) i K57 (kol. 10)
        fillResultPair('F_result_1', parsed, 56, 9, 56, 10);

      } catch(err) {
        console.error('Błąd przy ładowaniu/parsing CSV:', err);
      }
    }

    // Wypełnia daną komórkę (idCell) zawartością z parsed[rowIndex][colIndex]
    // Jeśli pusta, zostawia tekst biały (''), w miejscach, gdzie był „:” – jeżeli to konieczne,
    // sam w HTML masz już ":" jako domyślny.
    function fillCell(idCell, parsed, rowIndex, colIndex) {
      const el = document.getElementById(idCell);
      if (!el) return;
      const value = (parsed[rowIndex] && parsed[rowIndex][colIndex] !== undefined)
                    ? parsed[rowIndex][colIndex]
                    : '';
      el.textContent = value;
    }

    // Wypełnia komórkę idCell tekstem w formacie "X:Y", gdzie X=parsed[r1][c1], Y=parsed[r2][c2].
    // Przy naszych finałach r1=r2, więc sam wziąłem X i Y z tego samego wiersza.
    function fillResultPair(idCell, parsed, row1, col1, row2, col2) {
      const el = document.getElementById(idCell);
      if (!el) return;
      const part1 = (parsed[row1] && parsed[row1][col1] !== undefined)
                    ? parsed[row1][col1] : '';
      const part2 = (parsed[row2] && parsed[row2][col2] !== undefined)
                    ? parsed[row2][col2] : '';
      // Jeśli obie części są puste, zostawiamy tylko ":", w innym wypadku „X:Y”.
      if (part1 === '' && part2 === '') {
        el.textContent = ':';
      } else {
        el.textContent = `${part1}:${part2}`;
      }
    }
  </script>
</body>
</html>
